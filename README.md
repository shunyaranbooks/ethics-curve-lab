# Ethics Curve Lab (ECL) â€” v0.1.0

**Author:** Dr. Mohammad Amir Khusru Akhtar (Shunya)  
**Org:** Shunya Publications â€” Ranchi Â· [Website](https://www.shunyapublications.com/)  
**Contact:** shunya.ran.books@gmail.com

Operationalizes **The Ethics Curve** â€” measuring, simulating, and governing ethical drift over time in AI systems.
It computes a **Curved Ethics Score (CES)** across time slices, detects **Moral Drift**, and enforces **Recursive Governance** via a simple policy file.

> â€œEthics is not a code. It is a trajectory.â€ â€” *The Ethics Curve*

---

## âœ¨ What ECL provides
- **Ethics-as-trajectory**: compute CES(t) over time, not one-off checks.  
- **Fairness metrics**: demographic parity diff, equalized odds diff, FPR gap, worst-group acc.  
- **Drift metrics**: PSI & KL approximations to detect population/label shifts.  
- **Governance**: YAML policy triggers re-audits when CES drops below threshold.  
- **Reports**: JSON & PNG trends for publication figures.  
- **App (optional)**: Streamlit dashboard to visualize CES and audits.

---

## ğŸš€ Quickstart

### 1) Install
```bash
python -m venv .venv
source .venv/bin/activate  # Windows: .venv\Scripts\activate
pip install -e .
```

Or minimal:
```bash
pip install -r requirements.txt
```

### 2) Run a demo (synthetic Adult-like data)
```bash
python examples/adult_income_demo.py
```

This will:
- Simulate 4 time-slices with controlled drift
- Train a simple model on each slice
- Compute fairness/harm/transparency + drift
- Compute **CES(t)** and save a trend plot to `reports/ces_trend.png`
- Log policy actions to `reports/audit_log.json`

### 3) Optional dashboard
```bash
streamlit run app/dashboard.py
```
Then open the local URL shown in terminal.

---

## ğŸ“‚ Project layout
```
ethics-curve-lab/
â”œâ”€ ecl/                    # Core library
â”‚  â”œâ”€ ces.py
â”‚  â”œâ”€ data_ingestor.py
â”‚  â”œâ”€ drift.py
â”‚  â”œâ”€ governance.py
â”‚  â”œâ”€ metrics_engine.py
â”‚  â”œâ”€ model_runner.py
â”‚  â”œâ”€ report.py
â”‚  â””â”€ utils.py
â”œâ”€ app/
â”‚  â”œâ”€ api.py               # (Optional) FastAPI stub
â”‚  â””â”€ dashboard.py         # Streamlit dashboard
â”œâ”€ examples/
â”‚  â””â”€ adult_income_demo.py # End-to-end experiment
â”œâ”€ policies/
â”‚  â””â”€ default_policy.yaml
â”œâ”€ reports/                # Generated by examples
â”œâ”€ data/                   # (Optional) place CSVs here
â”œâ”€ notebooks/              # (Optional) Jupyter exploration
â”œâ”€ README.md
â”œâ”€ LICENSE
â”œâ”€ pyproject.toml
â””â”€ requirements.txt
```

---

## ğŸ§® Curved Ethics Score (CES)
We compute a composite score per time slice:
\[
\text{CES}(t) = w_1\,\text{Fair}(t) + w_2(1-\text{Harm}(t)) + w_3\,\text{Transp}(t) + w_4\,\text{Gov}(t) - \lambda\,\text{Drift}(t) - s\,|\text{Base}(t)-\text{Base}(t-1)|
\]
Where *s* is a smoothness penalty discouraging spikes/regressions over time.

---

## ğŸ§ª Re-run with your own CSV
Place a CSV in `data/` and call the loader in `examples/adult_income_demo.py` by switching to `load_csv_timeslices(...)`. Document which columns are protected attributes.

---

## ğŸ“ Citation
Akhtar, M. A. K. (2025). *The Ethics Curve: Curved Ethics for Future Values (PhiloMindâ„¢ Book 5).* Shunya Publications.

---

## ğŸ“„ License
MIT. See `LICENSE`.
